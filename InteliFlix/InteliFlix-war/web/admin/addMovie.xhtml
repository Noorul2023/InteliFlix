<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/WEB-INF/templates/inteliflixTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"  >



    <ui:define name="content">
        <h10 class="center-prominant" >Add Movies and Genres</h10>
        <h:form id="generalInfoForm" enctype="multipart/form-data">
            <p:growl id="growl" showDetail="true" sticky="false" />  




            <div><span>
                    <p:tabView dynamic="true" cache="false" effect="fold" styleClass="tabView" style="font-size: 1.5em">
                        <p:tab title="Add Movie">
                            <p:panel id="moviePanel" header="Add Movie" style="margin-bottom:10px; font-size: 0.9em">
                                <h:panelGrid columns="2" cellpadding="5" style="width:300px">

                                    <h:outputLabel value="Movie Title" for="title" />
                                    <h:inputText id="title" 
                                                 value="#{addMovieView.movie.title}" 
                                                 title="title" />

                                    <h:outputLabel value="Actors:" for="actors" />
                                    <h:inputText id="actors" 
                                                 value="#{addMovieView.movie.actors}" 
                                                 title="actor" />

                                    <p:outputLabel value="Select a Genre: " />
                                    <p:selectOneMenu value="#{addMovieView.movie.genre}" style="width:60%" converter="genreConverter">
                                        <f:selectItem itemLabel="Genres" itemValue="#{null}"  noSelectionOption="true"/>
                                        <f:selectItems value="#{searchView.genres}" />
                                    </p:selectOneMenu>

                                    <p:outputLabel value="Select a Rating: " />
                                    <p:selectOneMenu value="#{addMovieView.movie.ratings}" style="width:60%">
                                        <f:selectItem itemLabel="Ratings" itemValue="#{null}" noSelectionOption="true" />
                                        <f:selectItem itemLabel="G" itemValue="G" />
                                        <f:selectItem itemLabel="PG" itemValue="PG" />
                                        <f:selectItem itemLabel="PG-13" itemValue="PG-13" /> 
                                        <f:selectItem itemLabel="R" itemValue="R" />
                                        <f:selectItem itemLabel="NR" itemValue="NR" /> 
                                    </p:selectOneMenu>

                                    <h:outputLabel value="Logo:" for="logo" />
                                    <p:fileUpload value="#{addMovieView.uploadFile}"
                                                  id="logo" 
                                                  mode="simple" 
                                                  sizeLimit ="100000"
                                                  allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
                                                  skinSimple="true"/>
                                    
                                    <h:outputLabel value="Description:" for="description" />
                                    <h:inputText id="description" 
                                                 value="#{addMovieView.movie.description}" 
                                                 title="description" />
                                </h:panelGrid>

                                <p:commandButton value="Submit" 
                                                 ajax="false"
                                                 actionListener="#{addMovieView.addMovie}" 
                                                 update="@form" />
                            </p:panel>
                        </p:tab>

                        <p:tab title="Add Genre">
                            <p:panel id="genrePanel" header="Add Genre" style="margin-bottom:10px; font-size: 0.9em">
                                <h:panelGrid columns="2" cellpadding="5" style="width:300px; ">

                                    <h:outputLabel value="Create New Genre" for="title" />
                                    <h:inputText id="newGenreName" 
                                                 value="#{addMovieView.genre.name}" 
                                                 title="title" />
                                    <h:outputLabel value="Description" for="title" />
                                    <h:inputText id="newGenreDescription" 
                                                 value="#{addMovieView.genre.description}" 
                                                 title="title" />
                                </h:panelGrid>
                                <p:commandButton value="Add" 
                                                 actionListener="#{addMovieView.addGenre()}" 
                                                 update="@form" />
                            </p:panel>

                        </p:tab>

                    </p:tabView>
                </span>    
            </div>


        </h:form>

    </ui:define>
</ui:composition>

